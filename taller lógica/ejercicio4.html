<!DOCTYPE html>
<html>

<head>
    <title>Solicitar Comida</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body style="background-color: rgb(241, 205, 193);">
    <h1 class="text-center text-bg-success">EJERCICO 4</h1>
    <h5 style="margin-left: 172px;" class="w-75 text-center mt-5">
        Se necesita crear un menú de opciones, donde la persona escriba que quiere de comer, se le vaya sumando el valor
        a lo seleccionado hasta que el usuario escriba pagar, Una vez termine de comprar, se le debe mostrar el valor
        que debe pagar. (El menú y precios lo decide el programado@r.)
    </h5>
    <div class="row justify-content-center">
        <div class="col-4">
            <div class="text-center border border-dark border-3 rounded-3 bg-warning"
                style="width: 233px;margin-top: 62px;margin-left: 180px;height: 364px;">
                <h2 class="mt-4">Menú</h2>
                <ul>
                    <div style="margin-right: 23px;" class="mt-4">
                        <p>
                        <h6>Arroz chino - $25.000</h6>
                        </p>
                        <p>
                        <h6>Malteada - $6.000</h6>
                        </p>
                        <p>
                        <h6>Hamburguesa - $12.300</h6>
                        </p>
                        <p>
                        <h6>Cuy - $180.000</h6>
                        </p>
                        <p>
                        <h6>Pasta - $18.600</h6>
                        </p>
                    </div>
                </ul>
            </div>
        </div>
        <div class="col-4">
            <div style="margin-top: 62px;">
                <h2 class="text-center">Haga su pedido</h2>
                <div>
                    <form>
                        <select class="form-control mt-5 text-center" id="platoUsuario">
                            <option value="">Seleccione un plato</option>
                            <option value="Arroz chino">Arroz chino - $25.000</option>
                            <option value="Malteada">Malteada - $6.000</option>
                            <option value="Hamburguesa">Hamburguesa - $12.300</option>
                            <option value="Cuy">Cuy - $180.000</option>
                            <option value="Pasta">Pasta - $18.600</option>
                            <option value="pagar">Pagar</option>
                        </select>
                        <button style="margin-left: 132px;" class="btn btn-danger mt-5 fw-bold" type="button"
                            onclick="solicitarComida()">Agregar a la
                            orden</button>
                    </form>
                    <h6>
                        <div class="text-center mt-4" id="totalCuentaUsuario"></div>
                    </h6>
                </div>
            </div>
        </div>
    </div>









    <script>
        let menu = [{
            plato: "Arroz chino",
            precio: 25000
        }, {
            plato: "Malteada",
            precio: 6000
        }, {
            plato: "Hamburguesa",
            precio: 12300
        }, {
            plato: "Cuy",
            precio: 180000
        }, {
            plato: "Pasta",
            precio: 18600
        }];

        function solicitarComida() {
            let peticionPlatoUsuario = document.querySelector("#platoUsuario");
            let precioActual = 0;
            if (localStorage.getItem("total_cuenta") != null) {
                precioActual = localStorage.getItem("total_cuenta");
            } else {
                localStorage.setItem("total_cuenta", precioActual);
            }
            if (peticionPlatoUsuario.value != 'pagar') {
                menu.forEach((opcionMenu) => {
                    if (peticionPlatoUsuario.value == opcionMenu.plato) {
                        precioActual = parseInt(precioActual) + opcionMenu.precio;
                    }
                    localStorage.setItem("total_cuenta", precioActual);
                    Swal.fire({
                        icon: 'success',
                        title: 'Su plato fue agregado con éxito.',
                    })
                });
            } else {
                document.querySelector("#totalCuentaUsuario").innerHTML = "El total a pagar es: $" + localStorage.getItem("total_cuenta");
                setTimeout(() => {
                    localStorage.removeItem("total_cuenta");
                }, 1000);
            }
            peticionPlatoUsuario.value = '';
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>